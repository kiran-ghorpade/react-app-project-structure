{"openapi":"3.1.0","info":{"title":"ADRASHA AUTH-SERVICE API Docs","version":"1.0.0"},"servers":[{"url":"http://localhost:8080"}],"security":[{"BearerAuthentication":[]}],"paths":{"/auth/updateRole":{"put":{"tags":["UserDetails Management"],"operationId":"updateRole","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleUpdateDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDTO"}}}}},"security":[{"BearerAuthentication":[]}]}},"/auth/resetPassword":{"post":{"tags":["UserDetails Management"],"operationId":"resetPassword","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordResetRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDTO"}}}}},"security":[{"BearerAuthentication":[]}]}},"/auth/register":{"post":{"tags":["Authentication Management"],"summary":"Register New User","description":"Returns a user after registration","operationId":"registerUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegistrationRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidationErrorResponse"}}}}}}},"/auth/login":{"post":{"tags":["Authentication Management"],"summary":"Login for user","description":"Returns a user object after successful login","operationId":"loginUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidationErrorResponse"}}}}}}},"/auth/users/{id}":{"delete":{"tags":["UserDetails Management"],"operationId":"deleteUserByAdmin","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK"}},"security":[{"BearerAuthentication":[]}]}},"/auth/users/me":{"delete":{"tags":["UserDetails Management"],"operationId":"deleteCurrentUser","responses":{"200":{"description":"OK"}},"security":[{"BearerAuthentication":[]}]}}},"components":{"schemas":{"RoleUpdateDTO":{"type":"object","properties":{"userId":{"type":"string","format":"uuid"},"role":{"type":"string","enum":["USER","ADMIN","ASHA"]}},"required":["role","userId"]},"UserDTO":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"username":{"type":"string"},"roles":{"type":"array","items":{"type":"string"}},"status":{"type":"string"}}},"PasswordResetRequest":{"type":"object","properties":{"oldPassword":{"type":"string","maxLength":2147483647,"minLength":8},"newPassword":{"type":"string","maxLength":2147483647,"minLength":8}},"required":["newPassword","oldPassword"]},"RegistrationRequest":{"type":"object","properties":{"username":{"type":"string","example":"admin","maxLength":50,"minLength":0},"password":{"type":"string","example":"admin@123","maxLength":100,"minLength":8}},"required":["password","username"]},"ApiError":{"type":"object","properties":{"field":{"type":"string"},"message":{"type":"string"}}},"ValidationErrorResponse":{"type":"object","properties":{"success":{"type":"boolean"},"status":{"type":"integer","format":"int32"},"errorCode":{"type":"string"},"message":{"type":"string"},"errors":{"type":"array","items":{"$ref":"#/components/schemas/ApiError"}},"timestamp":{"type":"string","format":"date-time"}}},"LoginRequest":{"type":"object","properties":{"username":{"type":"string","example":"admin","minLength":1},"password":{"type":"string","example":"admin@123","maxLength":2147483647,"minLength":8}},"required":["password","username"]}},"securitySchemes":{"BearerAuthentication":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}